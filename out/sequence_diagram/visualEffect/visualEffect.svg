<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="498px" preserveAspectRatio="none" style="width:516px;height:498px;" version="1.1" viewBox="0 0 516 498" width="516px" zoomAndPan="magnify"><defs><filter height="300%" id="fiyiexhgxklei" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fiyiexhgxklei)" height="35.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="208.5" y="279.3516"/><rect fill="#FFFFFF" filter="url(#fiyiexhgxklei)" height="140.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="317.5" y="117.7988"/><rect fill="#FFFFFF" filter="url(#fiyiexhgxklei)" height="87.9316" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="322.5" y="155.1094"/><rect fill="#FFFFFF" filter="url(#fiyiexhgxklei)" height="35.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="317.5" y="350.9727"/><rect fill="#FFFFFF" filter="url(#fiyiexhgxklei)" height="75.9316" style="stroke: #000000; stroke-width: 2.0;" width="335" x="45" y="175.1094"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="26" x2="26" y1="86.4883" y2="411.2832"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="103" x2="103" y1="86.4883" y2="411.2832"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="213" x2="213" y1="86.4883" y2="411.2832"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="322" x2="322" y1="86.4883" y2="411.2832"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="444" x2="444" y1="86.4883" y2="411.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="8" y="83.5352">User</text><ellipse cx="26.5" cy="13" fill="#FEFECE" filter="url(#fiyiexhgxklei)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26.5,21 L26.5,48 M13.5,29 L39.5,29 M26.5,48 L13.5,63 M26.5,48 L39.5,63 " fill="none" filter="url(#fiyiexhgxklei)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="8" y="423.8184">User</text><ellipse cx="26.5" cy="436.7715" fill="#FEFECE" filter="url(#fiyiexhgxklei)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26.5,444.7715 L26.5,471.7715 M13.5,452.7715 L39.5,452.7715 M26.5,471.7715 L13.5,486.7715 M26.5,471.7715 L39.5,486.7715 " fill="none" filter="url(#fiyiexhgxklei)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fiyiexhgxklei)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="55" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="62" y="71.5352">VisualEffect</text><rect fill="#FEFECE" filter="url(#fiyiexhgxklei)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="55" y="410.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="62" y="430.8184">VisualEffect</text><rect fill="#FEFECE" filter="url(#fiyiexhgxklei)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="162" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="169" y="71.5352">EditorAction</text><rect fill="#FEFECE" filter="url(#fiyiexhgxklei)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="162" y="410.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="169" y="430.8184">EditorAction</text><rect fill="#FEFECE" filter="url(#fiyiexhgxklei)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="275" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="282" y="71.5352">AudioBlock</text><rect fill="#FEFECE" filter="url(#fiyiexhgxklei)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="275" y="410.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="282" y="430.8184">AudioBlock</text><rect fill="#FEFECE" filter="url(#fiyiexhgxklei)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="380" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="387" y="71.5352">AudioController</text><rect fill="#FEFECE" filter="url(#fiyiexhgxklei)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="380" y="410.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="387" y="430.8184">AudioController</text><rect fill="#FFFFFF" filter="url(#fiyiexhgxklei)" height="35.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="208.5" y="279.3516"/><rect fill="#FFFFFF" filter="url(#fiyiexhgxklei)" height="140.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="317.5" y="117.7988"/><rect fill="#FFFFFF" filter="url(#fiyiexhgxklei)" height="87.9316" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="322.5" y="155.1094"/><rect fill="#FFFFFF" filter="url(#fiyiexhgxklei)" height="35.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="317.5" y="350.9727"/><polygon fill="#A80036" points="305.5,113.7988,315.5,117.7988,305.5,121.7988,309.5,117.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="311.5" y1="117.7988" y2="117.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="33.5" y="113.0566">user drop a audio slice</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="327.5" x2="374.5" y1="142.1094" y2="142.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="374.5" x2="374.5" y1="142.1094" y2="155.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="333.5" x2="374.5" y1="155.1094" y2="155.1094"/><polygon fill="#A80036" points="343.5,151.1094,333.5,155.1094,343.5,159.1094,339.5,155.1094" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="339.5" y="137.3672">graphEffect()</text><path d="M45,175.1094 L243,175.1094 L243,182.1094 L233,192.1094 L45,192.1094 L45,175.1094 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.9316" style="stroke: #000000; stroke-width: 2.0;" width="335" x="45" y="175.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="153" x="60" y="188.6777">Refresh Graph Process</text><polygon fill="#A80036" points="114.5,209.7305,104.5,213.7305,114.5,217.7305,110.5,213.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="108.5" x2="321.5" y1="213.7305" y2="213.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="120.5" y="208.9883">getCanvas()</text><polygon fill="#A80036" points="305.5,239.041,315.5,243.041,305.5,247.041,309.5,243.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="103.5" x2="311.5" y1="243.041" y2="243.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="110.5" y="238.2988">graphBase64</text><polygon fill="#A80036" points="196.5,275.3516,206.5,279.3516,196.5,283.3516,200.5,279.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="202.5" y1="279.3516" y2="279.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="33.5" y="274.6094">updateZoom()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="322.5" x2="364.5" y1="313.6621" y2="313.6621"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="364.5" x2="364.5" y1="313.6621" y2="326.6621"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="317.5" x2="364.5" y1="326.6621" y2="326.6621"/><polygon fill="#A80036" points="327.5,322.6621,317.5,326.6621,327.5,330.6621,323.5,326.6621" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="329.5" y="308.9199">graphEffect()</text><polygon fill="#A80036" points="305.5,346.9727,315.5,350.9727,305.5,354.9727,309.5,350.9727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="311.5" y1="350.9727" y2="350.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="33.5" y="346.2305">stretch slice</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="327.5" x2="369.5" y1="385.2832" y2="385.2832"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="369.5" x2="369.5" y1="385.2832" y2="398.2832"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="322.5" x2="369.5" y1="398.2832" y2="398.2832"/><polygon fill="#A80036" points="332.5,394.2832,322.5,398.2832,332.5,402.2832,328.5,398.2832" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="334.5" y="380.541">graphEffect()</text><!--
@startuml
actor User

participant AudioBlock order 20
participant AudioController order 30

User -> AudioBlock: user drop a audio slice
activate AudioBlock
AudioBlock -> AudioBlock: graphEffect()
group Refresh Graph Process
activate AudioBlock
AudioBlock -> VisualEffect: getCanvas()
VisualEffect - -> AudioBlock: graphBase64
deactivate AudioBlock
end

deactivate AudioBlock
User -> EditorAction: updateZoom()
activate EditorAction
AudioBlock -> AudioBlock: graphEffect()
deactivate EditorAction

User -> AudioBlock: stretch slice
activate AudioBlock
AudioBlock -> AudioBlock: graphEffect()
deactivate AudioBlock

@enduml

PlantUML version 1.2019.09(Tue Aug 27 00:19:51 CST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 13.0.2+8
Operating System: Mac OS X
OS Version: 10.14.6
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>